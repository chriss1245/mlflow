{"version":3,"file":"patterns.js","sources":["../src/~patterns/Wizard/useStepperStepsFromWizardSteps.tsx","../src/~patterns/Wizard/HorizontalWizardStepsContent.tsx","../src/~patterns/Wizard/WizardFooter.tsx","../src/~patterns/Wizard/HorizontalWizardContent.tsx","../src/~patterns/Wizard/VerticalWizardContent.tsx","../src/~patterns/Wizard/useWizardCurrentStep.tsx","../src/~patterns/Wizard/Wizard.tsx","../src/~patterns/Wizard/WizardModal.tsx","../src/~patterns/index.ts"],"sourcesContent":["import { pick } from 'lodash';\nimport { useMemo } from 'react';\n\nimport type { WizardStep } from './WizardStep';\n\nexport function useStepperStepsFromWizardSteps(wizardSteps: WizardStep[]) {\n  return useMemo(\n    () =>\n      wizardSteps.map((wizardStep) => ({\n        ...pick(wizardStep, ['title', 'description', 'status']),\n        additionalVerticalContent: wizardStep.additionalHorizontalLayoutStepContent,\n      })),\n    [wizardSteps],\n  );\n}\n","import type { WizardStep } from './WizardStep';\nimport { useStepperStepsFromWizardSteps } from './useStepperStepsFromWizardSteps';\nimport { getShadowScrollStyles, useDesignSystemTheme } from '../../design-system';\nimport type { StepperProps } from '../../development/Stepper';\nimport { Stepper } from '../../development/Stepper';\n\nexport interface HorizontalWizardStepsContentProps {\n  steps: WizardStep[];\n  currentStepIndex: number;\n  expandContentToFullHeight: boolean;\n  localizeStepNumber: StepperProps['localizeStepNumber'];\n  useCustomScrollBehavior?: boolean;\n}\n\nexport function HorizontalWizardStepsContent({\n  steps: wizardSteps,\n  currentStepIndex,\n  expandContentToFullHeight,\n  useCustomScrollBehavior,\n  localizeStepNumber,\n}: HorizontalWizardStepsContentProps) {\n  const { theme } = useDesignSystemTheme();\n  const stepperSteps = useStepperStepsFromWizardSteps(wizardSteps);\n\n  return (\n    <>\n      <Stepper\n        currentStepIndex={currentStepIndex}\n        direction=\"horizontal\"\n        localizeStepNumber={localizeStepNumber}\n        steps={stepperSteps}\n        responsive={false}\n      />\n      <div\n        css={{\n          marginTop: theme.spacing.md,\n          flexGrow: expandContentToFullHeight ? 1 : undefined,\n\n          overflowY: useCustomScrollBehavior ? 'hidden' : 'auto',\n          ...(!useCustomScrollBehavior ? getShadowScrollStyles(theme) : {}),\n        }}\n      >\n        {wizardSteps[currentStepIndex].content}\n      </div>\n    </>\n  );\n}\n","/* eslint-disable react/no-unused-prop-types */\n// eslint doesn't like passing props as object through to a function\n// disabling to avoid a bunch of duplicate code.\n\nimport { compact } from 'lodash';\n\nimport type { WizardStep } from './WizardStep';\nimport type { WizardCurrentStepResult } from './useWizardCurrentStep';\nimport { Button, type ButtonProps } from '../../design-system';\n\nexport interface WizardFooterProps\n  extends Omit<WizardCurrentStepResult, 'onStepsChange' | 'onValidateStepChange'>,\n    WizardStep {\n  currentStepIndex: number;\n  onCancel?: () => void;\n  cancelButtonContent: React.ReactNode;\n  nextButtonContent: React.ReactNode;\n  previousButtonContent: React.ReactNode;\n  doneButtonContent: React.ReactNode;\n  extraFooterButtonsLeft?: ButtonProps[];\n  extraFooterButtonsRight?: ButtonProps[];\n}\n\n// Buttons are returned in order with primary button last\nexport function getWizardFooterButtons({\n  goToNextStepOrDone,\n  isLastStep,\n  currentStepIndex,\n  goToPreviousStep,\n  busyValidatingNextStep,\n  nextButtonDisabled,\n  nextButtonLoading,\n  nextButtonContentOverride,\n  previousButtonContentOverride,\n  previousStepButtonHidden,\n  previousButtonDisabled,\n  previousButtonLoading,\n  cancelButtonContent,\n  cancelStepButtonHidden,\n  nextButtonContent,\n  previousButtonContent,\n  doneButtonContent,\n  extraFooterButtonsLeft,\n  extraFooterButtonsRight,\n  onCancel,\n}: WizardFooterProps) {\n  return compact([\n    !cancelStepButtonHidden && (\n      <Button\n        onClick={onCancel}\n        type=\"tertiary\"\n        key=\"cancel\"\n        componentId=\"codegen_dubois_src_wizard_wizardfooter_cancel\"\n      >\n        {cancelButtonContent}\n      </Button>\n    ),\n    extraFooterButtonsLeft &&\n      extraFooterButtonsLeft.map((buttonProps, index) => (\n        <Button {...buttonProps} type={undefined} key={`extra-left-${index}`} />\n      )),\n    currentStepIndex > 0 && !previousStepButtonHidden && (\n      <Button\n        onClick={goToPreviousStep}\n        key=\"previous\"\n        disabled={previousButtonDisabled}\n        loading={previousButtonLoading}\n        componentId=\"codegen_dubois_src_wizard_wizardfooter_previous\"\n      >\n        {previousButtonContentOverride ? previousButtonContentOverride : previousButtonContent}\n      </Button>\n    ),\n    <Button\n      onClick={goToNextStepOrDone}\n      disabled={nextButtonDisabled}\n      loading={nextButtonLoading || busyValidatingNextStep}\n      type={(extraFooterButtonsRight?.length ?? 0) > 0 ? undefined : 'primary'}\n      key=\"next\"\n      componentId=\"codegen_dubois_src_wizard_wizardfooter_next\"\n    >\n      {nextButtonContentOverride ? nextButtonContentOverride : isLastStep ? doneButtonContent : nextButtonContent}\n    </Button>,\n    extraFooterButtonsRight &&\n      extraFooterButtonsRight.map((buttonProps, index) => (\n        <Button\n          {...buttonProps}\n          type={index === extraFooterButtonsRight.length - 1 ? 'primary' : undefined}\n          key={`extra-right-${index}`}\n        />\n      )),\n  ]);\n}\n","import { HorizontalWizardStepsContent } from './HorizontalWizardStepsContent';\nimport type { WizardFooterProps } from './WizardFooter';\nimport { getWizardFooterButtons } from './WizardFooter';\nimport type { WizardControlledProps } from './WizardProps';\nimport { Spacer, useDesignSystemTheme } from '../../design-system';\nimport { addDebugOutlineIfEnabled } from '../../design-system/utils/debug';\n\ntype HorizontalWizardContentProps = Omit<WizardControlledProps, 'layout' | 'title' | 'initialStep'>;\n\nexport function HorizontalWizardContent({\n  width,\n  height,\n  steps,\n  currentStepIndex,\n  localizeStepNumber,\n  onStepsChange,\n  expandContentToFullHeight = true,\n  useCustomScrollBehavior,\n  ...footerProps\n}: HorizontalWizardContentProps) {\n  return (\n    <div\n      css={{\n        width,\n        height,\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n      }}\n      {...addDebugOutlineIfEnabled()}\n    >\n      <HorizontalWizardStepsContent\n        steps={steps}\n        currentStepIndex={currentStepIndex}\n        localizeStepNumber={localizeStepNumber}\n        expandContentToFullHeight={expandContentToFullHeight}\n        useCustomScrollBehavior={useCustomScrollBehavior}\n      />\n      <Spacer size=\"lg\" />\n      <WizardFooter currentStepIndex={currentStepIndex} {...steps[currentStepIndex]} {...footerProps} />\n    </div>\n  );\n}\n\nfunction WizardFooter(props: WizardFooterProps) {\n  const { theme } = useDesignSystemTheme();\n  return (\n    <div\n      css={{\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'flex-end',\n        columnGap: theme.spacing.sm,\n        paddingTop: theme.spacing.md,\n        paddingBottom: theme.spacing.md,\n        borderTop: `1px solid ${theme.colors.border}`,\n      }}\n    >\n      {getWizardFooterButtons(props)}\n    </div>\n  );\n}\n","import { getWizardFooterButtons } from './WizardFooter';\nimport type { WizardControlledProps } from './WizardProps';\nimport { useStepperStepsFromWizardSteps } from './useStepperStepsFromWizardSteps';\nimport { getShadowScrollStyles, useDesignSystemTheme } from '../../design-system';\nimport { addDebugOutlineIfEnabled } from '../../design-system/utils/debug';\nimport { Stepper } from '../../development/Stepper';\n\ntype VerticalWizardContentProps = Omit<WizardControlledProps, 'layout' | 'initialStep'>;\n\nexport function VerticalWizardContent({\n  width,\n  height,\n  steps: wizardSteps,\n  currentStepIndex,\n  localizeStepNumber,\n  onStepsChange,\n  expandContentToFullHeight = true,\n  title,\n  useCustomScrollBehavior,\n  padding,\n  ...footerProps\n}: VerticalWizardContentProps) {\n  const { theme } = useDesignSystemTheme();\n  const stepperSteps = useStepperStepsFromWizardSteps(wizardSteps);\n\n  return (\n    <div\n      css={{ width, height, display: 'flex', flexDirection: 'row', columnGap: theme.spacing.lg }}\n      {...addDebugOutlineIfEnabled()}\n    >\n      <div\n        css={{\n          display: 'flex',\n          flexDirection: 'column',\n          columnGap: theme.spacing.lg,\n          border: `1px solid ${theme.colors.border}`,\n          flexShrink: 0,\n          padding: theme.spacing.lg,\n          rowGap: theme.spacing.lg,\n          height: 'fit-content',\n          maxWidth: '35%',\n          overflowX: 'auto',\n        }}\n      >\n        {title}\n        <Stepper\n          currentStepIndex={currentStepIndex}\n          direction=\"vertical\"\n          localizeStepNumber={localizeStepNumber}\n          steps={stepperSteps}\n          responsive={false}\n        />\n      </div>\n      <div\n        css={{\n          display: 'flex',\n          flexDirection: 'column',\n          columnGap: theme.spacing.lg,\n          border: `1px solid ${theme.colors.border}`,\n          flexGrow: 1,\n          padding: padding ?? theme.spacing.lg,\n        }}\n      >\n        <div\n          css={{\n            flexGrow: expandContentToFullHeight ? 1 : undefined,\n\n            overflowY: useCustomScrollBehavior ? 'hidden' : 'auto',\n            ...(!useCustomScrollBehavior ? getShadowScrollStyles(theme) : {}),\n          }}\n        >\n          {wizardSteps[currentStepIndex].content}\n        </div>\n        <div\n          css={{\n            display: 'flex',\n            flexDirection: 'row',\n            justifyContent: 'flex-end',\n            columnGap: theme.spacing.sm,\n            ...(padding !== undefined && { padding: theme.spacing.lg }),\n            paddingTop: theme.spacing.md,\n          }}\n        >\n          {getWizardFooterButtons({\n            currentStepIndex: currentStepIndex,\n            ...wizardSteps[currentStepIndex],\n            ...footerProps,\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useCallback, useMemo, useState } from 'react';\n\nexport interface WizardCurrentStepParams {\n  currentStepIndex: number;\n  setCurrentStepIndex: (step: number) => void;\n  totalSteps: number;\n  onValidateStepChange?: (step: number) => Promise<boolean>;\n  onStepChanged: ({ step, completed }: { step: number; completed: boolean }) => void;\n}\n\nexport function useWizardCurrentStep({\n  currentStepIndex,\n  setCurrentStepIndex,\n  totalSteps,\n  onValidateStepChange,\n  onStepChanged,\n}: WizardCurrentStepParams) {\n  const [busyValidatingNextStep, setBusyValidatingNextStep] = useState<boolean>(false);\n  const isLastStep = useMemo(() => currentStepIndex === totalSteps - 1, [currentStepIndex, totalSteps]);\n\n  const onStepsChange = useCallback(\n    async (step: number, completed = false) => {\n      if (!completed && step === currentStepIndex) return;\n\n      setCurrentStepIndex(step);\n      onStepChanged({ step, completed });\n    },\n    [currentStepIndex, onStepChanged, setCurrentStepIndex],\n  );\n\n  const goToNextStepOrDone = useCallback(async () => {\n    if (onValidateStepChange) {\n      setBusyValidatingNextStep(true);\n      try {\n        const approvedStepChange = await onValidateStepChange(currentStepIndex);\n        if (!approvedStepChange) {\n          return;\n        }\n      } finally {\n        setBusyValidatingNextStep(false);\n      }\n    }\n\n    onStepsChange(Math.min(currentStepIndex + 1, totalSteps - 1), isLastStep);\n  }, [currentStepIndex, isLastStep, onStepsChange, onValidateStepChange, totalSteps]);\n\n  const goToPreviousStep = useCallback(() => {\n    if (currentStepIndex > 0) {\n      onStepsChange(currentStepIndex - 1);\n    }\n  }, [currentStepIndex, onStepsChange]);\n\n  const goToStep = useCallback(\n    (step: number) => {\n      if (step > -1 && step < totalSteps) {\n        onStepsChange(step);\n      }\n    },\n    [onStepsChange, totalSteps],\n  );\n\n  return {\n    busyValidatingNextStep,\n    isLastStep,\n    onStepsChange,\n    goToNextStepOrDone,\n    goToPreviousStep,\n    goToStep,\n  };\n}\n\nexport type WizardCurrentStepResult = ReturnType<typeof useWizardCurrentStep>;\n","import { isUndefined } from 'lodash';\nimport { useState } from 'react';\n\nimport { HorizontalWizardContent } from './HorizontalWizardContent';\nimport { VerticalWizardContent } from './VerticalWizardContent';\nimport type { WizardControlledProps, WizardProps } from './WizardProps';\nimport { useWizardCurrentStep } from './useWizardCurrentStep';\n\nexport function Wizard({ steps, onStepChanged, onValidateStepChange, initialStep, ...props }: WizardProps) {\n  const [currentStepIndex, setCurrentStepIndex] = useState<number>(initialStep ?? 0);\n  const currentStepProps = useWizardCurrentStep({\n    currentStepIndex,\n    setCurrentStepIndex,\n    totalSteps: steps.length,\n    onStepChanged,\n    onValidateStepChange,\n  });\n\n  return (\n    <WizardControlled\n      {...currentStepProps}\n      currentStepIndex={currentStepIndex}\n      initialStep={initialStep}\n      steps={steps}\n      onStepChanged={onStepChanged}\n      {...props}\n    />\n  );\n}\n\nexport function WizardControlled({\n  initialStep = 0,\n  layout = 'horizontal',\n  width = '100%',\n  height = '100%',\n  steps,\n  title,\n  ...restOfProps\n}: WizardControlledProps) {\n  if (steps.length === 0 || (!isUndefined(initialStep) && (initialStep < 0 || initialStep >= steps.length))) {\n    return null;\n  }\n\n  if (layout === 'vertical') {\n    return <VerticalWizardContent width={width} height={height} steps={steps} title={title} {...restOfProps} />;\n  }\n\n  return <HorizontalWizardContent width={width} height={height} steps={steps} {...restOfProps} />;\n}\n","import { isUndefined } from 'lodash';\nimport { useState } from 'react';\n\nimport { HorizontalWizardStepsContent } from './HorizontalWizardStepsContent';\nimport { getWizardFooterButtons } from './WizardFooter';\nimport type { WizardProps } from './WizardProps';\nimport { useWizardCurrentStep } from './useWizardCurrentStep';\nimport { Modal, type ModalProps } from '../../design-system';\n\nexport interface WizardModalProps\n  extends Omit<ModalProps, 'footer' | 'onCancel' | 'onOk'>,\n    Omit<WizardProps, 'width' | 'layout' | 'title'> {\n  onModalClose: () => void;\n}\n\nexport function WizardModal({\n  onStepChanged,\n  onCancel,\n  initialStep,\n  steps,\n  onModalClose,\n  localizeStepNumber,\n  cancelButtonContent,\n  nextButtonContent,\n  previousButtonContent,\n  doneButtonContent,\n  ...modalProps\n}: WizardModalProps) {\n  const [currentStepIndex, setCurrentStepIndex] = useState<number>(initialStep ?? 0);\n  const { onStepsChange, isLastStep, ...footerActions } = useWizardCurrentStep({\n    currentStepIndex,\n    setCurrentStepIndex,\n    totalSteps: steps.length,\n    onStepChanged,\n  });\n\n  if (steps.length === 0 || (!isUndefined(initialStep) && (initialStep < 0 || initialStep >= steps.length))) {\n    return null;\n  }\n\n  const footerButtons = getWizardFooterButtons({\n    onCancel,\n    isLastStep,\n    currentStepIndex,\n    doneButtonContent,\n    previousButtonContent,\n    nextButtonContent,\n    cancelButtonContent,\n    ...footerActions,\n    ...steps[currentStepIndex],\n  });\n\n  return (\n    <Modal {...modalProps} onCancel={onModalClose} size=\"wide\" footer={footerButtons}>\n      <HorizontalWizardStepsContent\n        steps={steps}\n        currentStepIndex={currentStepIndex}\n        localizeStepNumber={localizeStepNumber}\n        expandContentToFullHeight={false}\n      />\n    </Modal>\n  );\n}\n","export * from './Wizard';\nexport type { WizardStep } from './Wizard';\n\nexport const foo = 123;\n"],"names":["useStepperStepsFromWizardSteps","wizardSteps","useMemo","map","wizardStep","_pick","additionalVerticalContent","additionalHorizontalLayoutStepContent","HorizontalWizardStepsContent","_ref","steps","currentStepIndex","expandContentToFullHeight","useCustomScrollBehavior","localizeStepNumber","theme","useDesignSystemTheme","stepperSteps","_jsxs","_Fragment","children","_jsx","Stepper","direction","responsive","css","_css","marginTop","spacing","md","flexGrow","undefined","overflowY","getShadowScrollStyles","process","env","NODE_ENV","content","getWizardFooterButtons","_extraFooterButtonsRi","goToNextStepOrDone","isLastStep","goToPreviousStep","busyValidatingNextStep","nextButtonDisabled","nextButtonLoading","nextButtonContentOverride","previousButtonContentOverride","previousStepButtonHidden","previousButtonDisabled","previousButtonLoading","cancelButtonContent","cancelStepButtonHidden","nextButtonContent","previousButtonContent","doneButtonContent","extraFooterButtonsLeft","extraFooterButtonsRight","onCancel","_compact","Button","onClick","type","componentId","buttonProps","index","_createElement","key","disabled","loading","length","HorizontalWizardContent","width","height","onStepsChange","footerProps","display","flexDirection","justifyContent","addDebugOutlineIfEnabled","Spacer","size","WizardFooter","props","columnGap","sm","paddingTop","paddingBottom","borderTop","colors","border","VerticalWizardContent","title","padding","lg","flexShrink","rowGap","maxWidth","overflowX","useWizardCurrentStep","setCurrentStepIndex","totalSteps","onValidateStepChange","onStepChanged","setBusyValidatingNextStep","useState","useCallback","step","completed","arguments","approvedStepChange","Math","min","goToStep","Wizard","initialStep","currentStepProps","WizardControlled","_ref2","layout","restOfProps","_isUndefined","WizardModal","onModalClose","modalProps","footerActions","footerButtons","Modal","footer","foo"],"mappings":"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"}